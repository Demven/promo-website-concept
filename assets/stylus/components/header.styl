/** HEADER COMPONENT
  * @author Dmitry Salnikov
  * @since 9/24/2015
 */
@require './base/util'
@require './base/devices'

$header-base-font-size = 1rem // Desktop

$header-height = 8.7em
$header-items-font-size = 4.6em

$logo-show()
  width: 1.4em
  opacity: 1
  padding: .16em .5em

header
  width: 100vw
  height: $header-height
  display: flex
  position: fixed
  top: 0
  left: 0
  font-family: $font-bebas-regular
  font-size: $header-base-font-size
  align-items: center
  flex-wrap: nowrap
  justify-content: center
  z-index: 100
  .content-shadow
    display: none
  ul
    width: 102.4em
    height: 100%
    display: flex
    justify-content: center
    align-items: center
    text-transform: uppercase
    background-color: #fff
    color: #232323
    z-index: 100
    li
      padding: .45em .5em
      font-size: $header-items-font-size
      transition: background-color 0.5s
      cursor: pointer
      &:hover
        background-color: rgba(0,0,0,0.06)

      &.logo
        width: 0
        margin-top: .12em
        background-color: initial
        padding: 0 0 0.3em 0
        opacity: 0
        transition: width .4s, opacity .4s, padding .4s
        &.show
          $logo-show()
        img
          width: 100%
        &:hover
          background-color: rgba(0,0,0,0.06)
  .menu-button
    display: none;

/* MOBILE STYLES */
@media $mobile
  header
    height: 100vh
    top: -100%;
    flex-direction: column
    justify-content: start
    transition: top .4s
    .content-shadow
      width: 100%
      height: 100%
      position: absolute
      top: 0
      left: 0
      background: rgba(0,0,0,0.3)
      display: block
      transition: opacity .4s .3s
    ul
      height: 80vh
      width: 100vw
      background-color: #fff
      flex-direction: column
      li
        &.logo
          $logo-show()
          width: 1.6em
          padding-top: 1em
    &:after
      content: ""
      position:absolute
      bottom: 0
      width: 0
      height: 0
      border-left: 80vw solid rgba(0,0,0,0)
      border-right: 80vw solid rgba(0,0,0,0)
      border-top: 30vh solid #fff
      left: -30vw
    &:before
      content: ""
      position: absolute
      bottom: 0
      width: 0
      height: 0
      border-left: 80vw solid rgba(0,0,0,0)
      border-right: 80vw solid rgba(0,0,0,0)
      border-top: 30vh solid rgba(0,0,0,0.5)
      left: -30vw
      -webkit-filter: blur(1em)
    .menu-button
      width: 6em
      height: 4.6em
      display: block
      z-index: 100
      position: absolute
      left: 50%
      bottom: 2.5vh
      margin-left: -3em
      cursor: pointer
      transition: transform .4s
      .line-container
        width: 6em
        height: 4.6em
        display: flex
        flex-direction: column
        justify-content: space-between
        position: absolute
        .line
          width: 100%
          height: 0.8em
          background-color: #000
          border-radius: 0.4em
          transition: transform .6s, opacity .2s
    &.closed
      top: -92%
      .content-shadow
        opacity: 0
      .menu-button
        transform: scale(.7)
    &.open
      top: 0
      .content-shadow
        opacity: 1
      .menu-button
        transform: scale(1) translateY(-3vh)
        .line-container
          .line:nth-child(1)
            transform: translateY(1.95em) rotate(135deg)
          .line:nth-child(2)
            opacity: 0
          .line:nth-child(3)
            transform: translateY(-1.95em) rotate(-135deg)
